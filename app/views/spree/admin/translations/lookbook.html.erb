<% content_for :page_actions do %>
    <%= button_link_to Spree.t(:back_to_resource_list, resource: Spree::Lookbook.model_name.human), admin_lookbooks_path, class: 'btn-primary', icon: 'arrow-left' %>
<% end %>
<% @resource = @lookbook %>

<%= render 'settings' %>


<div class="row translations">
  <div class="col-md-4">
    <div class="panel panel-default fields">
      <div class="panel-heading"><%= Spree.t(:'i18n.fields') %></div>
      <div class="list-group" id="attr_list">
        <a class="list-group-item active" data-attr="name" href="#"><%= Spree.t("name") %></a>
        <a class="list-group-item " data-attr="image" href="#"><%= Spree.t("image") %></a>
        <a class="list-group-item" data-attr="meta_title" href="#"><%= Spree.t("meta_title") %></a>
        <a class="list-group-item " data-attr="meta_description" href="#"><%= Spree.t("meta_description") %></a>
      </div>
    </div>

  </div>
  <div class="col-md-8">
    <%= form_for [:admin, @lookbook], :html => {:multipart => true}  do |f| %>
        <div id="attr_fields">
          <% SolidusI18n::Config.available_locales.each do |locale| %>
              <%= f.globalize_fields_for locale.to_sym do |g| %>
                  <div class="panel panel-default name <%= locale %>" style="display:<%= 'auto'%>;">
                    <div class="panel-heading">
                      <%= Spree.t(:name, locale: locale) %>

                      <div class="pull-right text-muted">
                        <small><i><%= Spree.t(:'i18n.this_file_language', locale: locale) %></i></small>

                        <% if locale.to_s.include?('-') %>
                            <img src="https://www.localeapp.com/assets/flags/regions/<%= locale.to_s.split('-').last %>.png">
                        <% else %>
                            <img src="https://www.localeapp.com/assets/flags/languages/<%= locale %>.png">
                        <% end %>
                      </div>
                    </div>

                    <div class="panel-body">
                      <%= g.text_field :name, class: 'form-control', rows: 4 %>
                    </div>
                  </div>

                  <div class="panel panel-default meta_description <%= locale %>" style="display:none;">
                    <div class="panel-heading">
                      <%= Spree.t(:meta_description, locale: locale) %>

                      <div class="pull-right text-muted">
                        <small><i><%= Spree.t(:'i18n.this_file_language', locale: locale) %></i></small>

                        <% if locale.to_s.include?('-') %>
                            <img src="https://www.localeapp.com/assets/flags/regions/<%= locale.to_s.split('-').last %>.png">
                        <% else %>
                            <img src="https://www.localeapp.com/assets/flags/languages/<%= locale %>.png">
                        <% end %>
                      </div>
                    </div>

                    <div class="panel-body">
                      <%= g.text_field :meta_description, class: 'form-control', rows: 4 %>
                    </div>
                  </div>

                  <div class="panel panel-default meta_title <%= locale %>" style="display:none;">
                    <div class="panel-heading">
                      <%= Spree.t(:meta_title, locale: locale) %>

                      <div class="pull-right text-muted">
                        <small><i><%= Spree.t(:'i18n.this_file_language', locale: locale) %></i></small>

                        <% if locale.to_s.include?('-') %>
                            <img src="https://www.localeapp.com/assets/flags/regions/<%= locale.to_s.split('-').last %>.png">
                        <% else %>
                            <img src="https://www.localeapp.com/assets/flags/languages/<%= locale %>.png">
                        <% end %>
                      </div>
                    </div>

                    <div class="panel-body">
                      <%= g.text_field :meta_title, class: 'form-control', rows: 4 %>
                    </div>
                  </div>

                  <div class="panel panel-default image <%= locale %>" style="display:<%= 'none'%>;">

                    <div class="panel-heading">
                      <%= Spree.t(:image, locale: locale) %>

                      <div class="pull-right text-muted">
                        <small><i><%= Spree.t(:'i18n.this_file_language', locale: locale) %></i></small>

                        <% if locale.to_s.include?('-') %>
                            <img src="https://www.localeapp.com/assets/flags/regions/<%= locale.to_s.split('-').last %>.png">
                        <% else %>
                            <img src="https://www.localeapp.com/assets/flags/languages/<%= locale %>.png">
                        <% end %>
                      </div>
                    </div>

                    <div class="panel-body">
                      <%= g.file_field :image, class: 'form-control', rows: 4 %>
                    </div>
                  </div>



        <% end %>
          <% end %>

          <p class="no-translations" style="display: none">There are no any translation for given criteria</p>
        </div>

        <hr/>
        <%= render 'spree/admin/shared/edit_resource_links' %>
    <% end %>
  </div>
</div>

